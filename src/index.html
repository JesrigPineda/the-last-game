<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Last Game</title>
    <link rel="icon" type="image/svg?size" href="https://icongr.am/material/meteor.svg?size=16&color=ffffff" />
    <link rel="stylesheet" href="./style/style.css" />
  </head>
  <body>
    <header class="header">
      <h1>The Last Game</h1>
      <div>
          <button id="newGame" class="button" type="button">New Game</button>
          <button id="rulesBtn" class="button" type="button">Rules</button>
          <button id="playSound" class="button"><img id="sound" src="https://icongr.am/material/volume-high.svg?size=17&color=ffffff" alt=""></button>

      </div>

    </header>

    <section id="board" class="board">
      <div class="wrapper">
        <div class="flex">
          <aside id="player1" class="panel">
            <div id="p1-avatar"></div>
            <h4 id="p1-name"></h4>

            <div class="box">
              <p id="p1-health"></p>
              <strong class="label">Health</strong>
              
            </div>

            <div class="box">
              <div id="p1-weapon-image"></div>
              <strong id="p1-weapon-damage" class="label">0</strong>
            </div>

            <div class="box">
              <div id="p1-shield-image" class="shield-image"></div>
              <strong id="p1-shield-status" class="label">Unprotected</strong>
            </div>
          </aside>

          <main id="map" class="gameTable"></main>
          
          <aside id="player2" class="panel">
            <div id="p2-avatar"></div>
            <h4 id="p2-name"></h4>

            <div class="box">    
              <p id="p2-health"></p>
              <strong class="label">Health</strong>
            </div>

            <div class="box">
              <div id="p2-weapon-image"></div>
              <strong id="p2-weapon-damage" class="label">0</strong>
              <p></p>
            </div>

            <div class="box">
              <div id="p2-shield-image" class="shield-image"></div>
              <strong id="p2-shield-status" class="label">Unprotected</strong>
            </div>
          </aside>
        </div>
      </div>
    </section>
    <div id="rulesModal" class="modal">
      <div>
        <button id="closeRules">&times;</button>
        <h2>Movement rules</h2> 
        <ul>
          <li>Movement takes place in turns.</li>
          <li>For each turn, player can move from 1 to 3 boxes (horizontally or vertically) before ending their turn.</li>
          <li>If player passes over a box containing a weapon, he leave his current weapon on site and replace it with the new one.</li>
          <li>If players cross over adjacent squares (horizontally or vertically), a battle begins.</li>
        </ul>
        <h2>Battle rules</h2> 
        <ul>
          <li>Each player attacks in turn.</li>
          <li>Damage depends on the player's weapon.</li>
          <li>Player can choose to attack or defend against the next shot.</li>
          <li>If the player chooses to defend, he will take 50% less damage than normal the next turn.</li>
          <li>If the player chooses to retreat, he will take a 100% damage attack from his enemy and will be able to move again.</li>
          <li>As soon as life points of a player (initially 100) falls to 0, game is over.</li>
        </ul>
      </div>
    </div>
  
    <div id="fightModal" class="modal">
      <div>
          <h3 id="attacker">You are in a fight against!</h3>
          <h2>You are in a fight against!</h2>
          <div id="avatar"></div>
          <h4 id="avatar-name"></h4>
          <p id="avatar-health"></p>
          <br>
          <p><strong>Attack:</strong> you are going to receive a full damage</p>
          <p><strong>Defend:</strong> you will take 50% less damage than normal the next turn.</p>
          <p><strong>Retreat:</strong>  you will take a 100% damage attack from your enemy and can move again.</p>
          <button id="retreat"><img src="https://icongr.am/material/walk.svg?size=16&color=ffffff" alt="Retirarse"> Retreat</button>
          <button id="defend"><img src="https://icongr.am/material/shield.svg?size=16&color=ffffff" alt=""> Defend</button>
          <button id="attack"> <img src="https://icongr.am/material/sword-cross.svg?size=16&color=ffffff" alt=""> Attack</button>
      </div>
    </div>

    <div id="gameOverModal" class="modal">
      <div>
          <h2>Game Over!!</h2>
          <p></p>
          <p></p>
          <button class="button">New Game</button>
      </div>
    </div>

    <audio id="startAudio" src="./music/End_of_the_Era.mp3"></audio>
    <audio id="fightAudio" src="./music/Nightmares.mp3"></audio>

    <script src="./js/board.js"></script>
  </body>
</html>
